<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Finding The Neocities &quot;Algorithm&quot; - Mew151.net</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="Natalie" />
    <meta name="description" content="Natalie's Personal Website" />
    <link rel="stylesheet" type="text/css" href="../style/mew.css" />
    <link rel="alternate" type="application+rss/xml" href="/rss.xml" />
    <link rel="me" href="https://github.com/meisekimiu" />
    <link rel="me" href="https://prismst.one/@natalie" />
    <link rel="shortcut icon" type="image/x-icon" href="../favicon.ico" />
    <link rel="canonical" href="https://www.mew151.net/cyber/neocities.html" />
    <link rel="webmention" href="https://webmention.io/mew151.net/webmention" />
    <link rel="pingback" href="https://webmention.io/mew151.net/xmlrpc" />
    <script src="../style/autostyle.js" type="text/javascript"></script>
    <script src="../script/nav.js" type="text/javascript"></script>
    <style type="text/css">
      .tutorial-paper {
        margin: 3em auto;
        padding: 3em 0;
        text-align: center;
        background: url("neocities/paper.png");
        background-size: 100% 100%;
        max-width: 500px;
      }
    </style>
  </head>
  <body>
    <div class="window nav-window">
      <div class="window-bar">
        <div class="window-title">My Computer</div>
      </div>
      <div class="window-content">
        <nav class="explorer">
          <iframe
            src="/nav-fallback.html"
            style="width: 100%; height: 100%"
          ></iframe>
        </nav>
      </div>
    </div>
    <div class="window main-window">
      <div class="window-bar">
        <div class="window-title">The Neocities Algorithm</div>
      </div>
      <div class="window-content">
        <main
          id="main"
          class="light"
          style="
            background: #fff;
            color: #000;
            font-size: unset;
            font-family: 'Verdana', sans-serif;
            line-height: 1.35;
          "
        >
          <h1
            class="tutorial-paper"
            style="padding: 1em 0; margin: 0.25em auto"
            data-gmi-ignore
          >
            Welcome to my Website!
          </h1>
          <h2>Finding The Neocities "Algorithm"</h2>
          <p>
            <strong
              class="rainbow"
              style="background: #000; padding: 0.25em; border-radius: 3px"
              >NEOCITIES!</strong
            >
            I love personal websites. I think they are the
            <a
              href="manifesto.html#websites-as-homes"
              title="read my whole web manifesto ig"
              data-gmi-drop-link
              >best way to have digital presence online,</a
            >
            especially compared to centralized, corporate, algorithmically
            driven social media. So Neocities is really great, giving everyone
            the ability to host small personal websites like the older
            Geocities, without any dynamic content or tracking codes or
            algorithmic content. But Neocities is still Social Media.
          </p>
          <div
            class="tutorial-paper"
            style="rotate: 3deg; padding: 1em; width: 250px"
            data-gmi-ignore
          >
            <img src="/neocities.png" alt="Hosted By Neocities" />
          </div>
          <p>
            While websites hosted on Neocities are available on the public
            internet, there are a few more traditional social media-esque
            features locked away behind signing into an account. You can follow
            sites and have their updates show up in your feed. You can leave
            comments on updates, or post statuses that other people can like and
            comment on that only ever show up in the feed and never on your
            site.
          </p>
          <p>
            The Follow feature on Neocities is particularly interesting because
            when you follow a site, you don't only get their updates on your
            feed. You also see whenever anyone <em>else</em> follows that same
            account. Or when they post a comment on another site, you get to see
            it, even if you don't follow that other site. This is pretty chaotic
            and can really clutter your feed if you follow one of the big sites
            on Neocities. From the perspective of mainstream social media this
            is really bad design... imagine a celebrity on social media and then
            getting notified whenever someone else also follows them!
          </p>
          <p>
            But this chaos actually works in favor of Neocities since the random
            noise created by all of this exposes you to new and interesting
            sites all the time. Without using any sophisticated recommendation
            algorithms, purely through the random chaos of people following and
            commenting on each other's profiles, I always have new websites pop
            up onto my feed all the time that I can easily explore. And that's
            awesome!
          </p>
          <p>
            (That being said... you <em>also</em> get notified if any random
            person comments on the profile of someone you're following. On a big
            account this has the potential to be abused really easily and I've
            seen it done before. Neocities, please remove that one if you
            haven't already.)
          </p>
          <p>
            <ins datetime="2023-06-01"
              >June 2023 Update: Neocities has removed some of the "noise" you
              see on your feed, so the main way of discovering new sites now is
              just to browse and check the global activity page. On one hand,
              it's way easier to see updates from sites you follow! On the other
              hand, no more site discoverabilty through that random noise.
              :(</ins
            >
          </p>
          <aside data-gmi-ignore>
            <p style="rotate: -3deg" class="tutorial-paper">
              <span
                >Here's how you can make <strong>bold</strong> and
                <em>italic</em> text.</span
              >
            </p>
          </aside>
          <h2>But... is there an algorithm???</h2>
          <p>
            <strong>Note:</strong> The following section is for educational
            purposes only. Please do not intentionally try to game "the
            algorithm" on Neocities.
          </p>
          <p>
            Have you ever been on the
            <a
              href="https://neocities.org/activity"
              title="In theory, someone could have come to this very page from the Global Activity feed..."
              data-gmi-drop-link
              >Global Activity</a
            >
            page on Neocities? I've noticed that whenever I publish an update to
            my site, or any other sites I follow get updated for that matter, it
            only seems to show up sometimes. What's up with that? Also, have you
            ever used the
            <a
              href="https://neocities.org/browse?sort_by=special_sauce"
              title="can i get my websites animal style with fries thank you"
              data-gmi-drop-link
              >"Special Sauce"</a
            >
            sorting setting on the website directory? That (along with its
            permanent "alpha" status) sounds suspiciously algorithmic to me!
            Well thankfully, Neocities is
            <a
              href="https://github.com/neocities/neocities"
              title="My site is open source too, btw!"
              data-gmi-drop-link
              >open source,</a
            >
            so we can actually look into the code and figure out for
            ourselves... <strong>is there an algorithm at play?</strong>
          </p>
          <h3>The Global Activity Page</h3>
          <p>
            The Global Activity page is a great way to find new sites. But how
            does it work??? Well... it's actually quite simple! For the most
            part, this page works pretty much how you'd expect it to. It
            displays the latest updates to sites across Neocities. ...But there
            is a bit more going on here.
          </p>
          <p>
            First, it apparently only shows websites with
            <strong>at least 3000 views.</strong> I assume they do this so the
            global activity feed isn't just filled with brand new sites that are
            still under construction, but instead sites that probably have
            <em>something</em> on them at this point. The feed also filters out
            <strong>sites that are marked 18+,</strong> which you can mark on
            your site's profile. It will also filter out
            <strong>sites that have less than two followers,</strong>
            probably to promote users who actually use the site rather than
            empty and new websites. The code to Neocities has the concept of
            <strong>"Jerks",</strong> which are sites that have been blocked by
            multiple users, and these users are filtered out of the global
            activity feed as well. The global activity feed also makes sure to
            only ever display your site <strong>once at a time,</strong> so that
            all sites on the page are unique.
          </p>
          <p>
            There's one final thing to the activity page:
            <strong>It only actually updates every hour,</strong> and caches the
            results until the next regeneration. So if you update your site and
            then immediately go over to that page... you probably won't actually
            see anything! If you come back an hour later, and your site meets
            all the other criteria, you should see your site on the page...
            though you might have to scroll a bit depending on how long it took
            between updating your site and updating the activity page!
          </p>
          <p>
            There is one bit of functionality that is currently disabled, but
            remnants of it exist in the code. You know how Neocities will
            generate little screenshots of your site for updates and profile
            pages? Well, code exists to filter out any pages that were so slow
            they caused the screenshot bot to break! The screenshot worker code
            has been updated to stop marking sites as slow...
            <em>however...</em> technically if you have an old site (like...
            from around 2016 or earlier?) and it was slow to load, your site
            could have been marked in this way, and might still be filtered out
            of results! I'm not sure if they've updated the database to unset
            the "breaks our screenshot bot" flag on old sites!
          </p>
          <p>
            To review, here are the rules to the Global Activity page. It grabs
            all the updates from around Neocities and filters them like this:
          </p>
          <ul>
            <li>Remove sites below 3000 views</li>
            <li>Remove sites marked 18+ (NSFW)</li>
            <li style="text-decoration: line-through" data-gmi-ignore>
              Remove sites that are too slow to load for the screenshot bot
            </li>
            <li>Remove multiple occurrences of the same site in the list</li>
            <li>
              Removes <strong>jerks</strong
              ><sup
                ><a
                  href="#footnote-1-definition"
                  id="footnote-1-context"
                  data-gmi-drop-link
                  >[1]</a
                ></sup
              >
            </li>
            <li>Removes sites with less than two followers</li>
          </ul>
          <p>
            And then it only updates every hour, so changes may take a while to
            show up on the feed!
          </p>
          <p>
            The main areas where you can find this information for yourself are
            in <kbd>app/activity.rb</kbd> and <kbd>models/event.rb</kbd> of the
            Neocities source code.
          </p>
          <h3>The Special Sauce</h3>
          <p>
            What does the "Special Sauce" sort mode do on the search page? To me
            it always sounded like some kind of algorithmic recommendation
            magic. Well... it does use an algorithm, since
            <a
              href="https://www.merriam-webster.com/dictionary/algorithm"
              target="The dictionary page that shows you the definition of algorithm uses an algorithm"
              data-gmi-drop-link
              >any computer system uses algorithms</a
            >, but it isn't a magic machine learning one like Twitter or TikTok.
            The Special Sauce sort mode
            <strong
              >sorts websites by their Site Score, from greatest to
              least.</strong
            >
            That's it!
          </p>
          <p>... wait... what's a site score?!?!</p>
          <p>
            A <strong>score</strong> is generated behind-the-scenes for every
            Neocities site, and this score is used in the Special Sauce sorting
            mode, as well as a few other places. Generally, the score tries to
            prioritize popular sites that are also currently active on
            Neocities. Relying solely on follower count or page views might push
            sites that are popular but mostly abandoned, so a variety of factors
            are all put into calculating site score to get the most out of all
            data points. Let's explain how the score calculation algorithm
            works!
          </p>
          <p>
            For a given site, compute its score by starting at 0 points and then
            doing the following:
          </p>
          <ol>
            <li>
              For every follower the account has,
              <strong>add 30 points.</strong>
            </li>
            <li>
              For every comment on the site's profile,
              <strong>add 1 point.</strong>
            </li>
            <li>
              For every 1000 views<sup
                ><a
                  href="#footnote-2-definition"
                  id="footnote-2-context"
                  data-gmi-drop-link=""
                  >[2]</a
                ></sup
              >, <strong>add 1 point.</strong>
            </li>
            <li>
              If the site has ever been featured on the Neocities homepage,
              <strong>add 20 points.</strong>
            </li>
          </ol>
          <p>
            After these steps, some penalties will completely set scores to zero
            if conditions are met:
          </p>
          <ol start="6">
            <li>
              If a site has less than two total updates over two different days,
              <strong>clear out all points to zero.</strong>
            </li>
            <li>
              If a site has credentials for the Neocities API and has hit
              endpoints over 1000 times<sup
                ><a
                  href="#footnote-3-definition"
                  id="footnote-3-context"
                  data-gmi-drop-link
                  >[3]</a
                ></sup
              >,
              <strong>clear out all points to zero.</strong>
            </li>
          </ol>
          <p>
            And then a final (and a bit more complex) calculation is done to
            prioritize more recently updated sites.
          </p>
          <ol start="8">
            <li>
              Compute the "recent update score":
              <ol type="i">
                <li>
                  Take the number of seconds between now and whenever the last
                  update to the site was.
                </li>
                <li>
                  Divide that value by 604800 (this is not arbitrary, it's the
                  number of seconds in one week!)
                </li>
                <li>Raise the divided value to the power of 1.8.</li>
              </ol>
            </li>
            <li>
              Divide the points we have computed previously by the "recent
              update score".
            </li>
            <li>Round the final value to four decimal places.</li>
          </ol>
          <p>
            ... and that's how you compute a site score! It gets pretty
            complicated near the end, but what really matters is that sites that
            haven't been updated for a long time get their scores penalized even
            if they have a lot of followers and views and stuff.
          </p>
          <p>
            The "Special Sauce" sort mode will rank sites by their scores
            starting with the highest scores. But that's not the only place
            where the site score is used! Whenever you see the "This Site
            Follows" and "Followers" sections on a user's profile, those sites
            are <strong>also</strong> sorted by score! Neat!
          </p>
          <aside data-gmi-ignore="">
            <p style="rotate: 3deg" class="tutorial-paper">
              Here's how you can add an image:
            </p>
          </aside>
          <figure data-gmi-ignore="">
            <img
              src="neocities/follows.png"
              alt="Neocities Followers"
              title="Oh god you can see who I follow... wait that's public information"
            />
            <figcaption>
              These sites are sorted by their super secret score!
            </figcaption>
          </figure>
          <h2>So There Is An Algorithm! Kind Of!</h2>
          <p>
            These two things, the global activity page and the concept of "site
            scores", are the only features of the site I could find that kind of
            match the description of "algorithms to suggest content on
            Neocities". But even then, they're not the kind of mysterious
            machine learning black boxes we see on other sites like Youtube,
            TikTok, or Twitter. They're just... handwritten pieces of open
            source code that use the data available to hopefully pick out new
            and interesting sites for you to find. It's kind of refreshing in a
            world where more corporate algorithms are controlling how people
            interact with each other.
          </p>
          <p>
            I once saw a post online about younger people, who are used to their
            interactions on TikTok and other algorithm-driven apps, joining a
            much more basic fanfiction website and assuming that there was an
            algorithm on that site as well since engagement algorithms are just
            the new normal now.
          </p>
          <figure data-gmi-ignore>
            <a href="neocities/ao3_algorithm.jpg" target="_blank">
              <img
                src="neocities/ao3_algorithm.jpg"
                alt='A tumblr post showing younger people hoping to be "blessed by the algorithm" on AO3, a fanfiction website without any suggestion algorithms.'
                title="Those two points also go to any younger people on Neocities"
              />
            </a>
            <figcaption>
              The post in question. By the way I don't actually go on fanfic
              sites lol.
            </figcaption>
          </figure>
          <p>
            I'm of glad that Neocities <em>doesn't</em> have "a real algorithm"
            because I think those "real algorithms" are scary. I love how
            Neocities encourages curious exploration. It will not spoonfeed you
            content the way TikTok's For You Page does. You have to click
            things, and find sites that you like. And that takes time and
            effort. But I think the process feels a bit more rewarding in a way.
            When you find a really cool site on Neocities, or anywhere on the
            Indie Web for that matter, it feels all the more special because
            <em>you</em> found it. Not some corporate machine that has an
            alarming amount of personal data it is attempting to market to.
          </p>
          <p>
            Websites like Twitter only care about engagement. Whether you are
            comforted by the content or angered by the content, it doesn't
            care... and actually your anger, rage, and fear tend to be more
            valuable to Twitter than your comfort. Doomscrolling is a feature of
            modern social media, not a bug. So, Twitter will push things that
            will upset you, because when you're angry and want to tear down
            someone's bad take... you'll post and engage more with the platform.
          </p>
          <p>
            On Neocities and the Indie Web, your exploration is entirely
            controlled by you. You can choose where you want to go on the web,
            and if you don't like the content of a site you can back away slowly
            and there is no algorithm taking notes on how you emotionally
            respond to something. It's very mundane, and really a sign of the
            horrible futuristic dystopia we live in... but it's honestly what
            makes Neocities so special to me.
          </p>
          <p>
            ... That being said, I feel like by spelling out these rules of the
            barebones Neocities algorithm is almost encouraging people to abuse
            them so that they can get more followers and boost engagement with
            their own site. Thankfully it seems like the main way to "game the
            algorithm" on Neocities is to just... be an active member. Still. If
            you're reading this I hope you use this information responsibly.
            Unlearn the attention-hungry bullshit that social media has taught
            you. You'll be better off without it.
          </p>
          <p>
            Oh.. and Neocities? Please let me use your API for automated
            deployments without supressing my account in search results. lol.
          </p>
          <p style="rotate: -3deg" class="tutorial-paper" data-gmi-ignore>
            <span
              >To learn more HTML/CSS, check out these
              <a href="https://neocities.org/tutorials">tutorials</a>!</span
            >
          </p>
          <hr />
          <h2>Footnotes</h2>
          <strong id="footnote-1-definition">1:</strong> "Jerks" are sites who
          have been blocked by at least four other accounts. That is what they
          are actually called in the code.
          <a href="#footnote-1-context" data-gmi-ignore>&uarr;</a><br /><br />
          <strong id="footnote-2-definition">2:</strong> The code uses
          <code>views / 1000</code> to compute this part of the score, but I
          believe the <var>views</var> value here is an integer, so in Ruby
          (what Neocities runs on) this will be handled with Integer Division.
          No decimal points or remainders.
          <a href="#footnote-2-context" data-gmi-ignore>&uarr;</a><br /><br />
          <strong id="footnote-3-definition">3:</strong> Wait... but... I use
          the Neocities API to deploy this website... oh god, are you telling me
          I only have a limited number of deploys before I get completely
          supressed by the algorithm? According to what I've found in the
          Neocities source code, each API call is tracked in the database and I
          can't find a place where that value is ever reset...? (Maybe this is
          to encourage API key rotation???)
          <a href="#footnote-3-context" data-gmi-ignore>&uarr;</a>
        </main>
      </div>
    </div>
  </body>
</html>
